<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>components/Main/Index.vue - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="activityTo.html">activityTo</a><ul class='methods'><li data-type='method'><a href="activityTo.html#.info">info</a></li><li data-type='method'><a href="activityTo.html#.list">list</a></li></ul></li><li><a href="common.html">common</a><ul class='methods'><li data-type='method'><a href="common.html#.bindAiPicture">bindAiPicture</a></li><li data-type='method'><a href="common.html#.bindingPhone">bindingPhone</a></li><li data-type='method'><a href="common.html#.editPassword">editPassword</a></li><li data-type='method'><a href="common.html#.findAiPictureList">findAiPictureList</a></li><li data-type='method'><a href="common.html#.getPatientRecord">getPatientRecord</a></li><li data-type='method'><a href="common.html#.login">login</a></li><li data-type='method'><a href="common.html#.pceditPassword">pceditPassword</a></li><li data-type='method'><a href="common.html#.regPhone">regPhone</a></li><li data-type='method'><a href="common.html#.sendMessage">sendMessage</a></li><li data-type='method'><a href="common.html#.updateGz">updateGz</a></li></ul></li><li><a href="followplan.html">followplan</a><ul class='methods'><li data-type='method'><a href="followplan.html#.editVisitProjectStatus">editVisitProjectStatus</a></li><li data-type='method'><a href="followplan.html#.getVisitOrderDetail">getVisitOrderDetail</a></li><li data-type='method'><a href="followplan.html#.list">list</a></li></ul></li><li><a href="followway.html">followway</a><ul class='methods'><li data-type='method'><a href="followway.html#.getChartData">getChartData</a></li><li data-type='method'><a href="followway.html#.getPatientRecord">getPatientRecord</a></li><li data-type='method'><a href="followway.html#.getVisistOrderResult">getVisistOrderResult</a></li><li data-type='method'><a href="followway.html#.list">list</a></li><li data-type='method'><a href="followway.html#.updateDiseaseInfo">updateDiseaseInfo</a></li></ul></li><li><a href="homePage.html">homePage</a><ul class='methods'><li data-type='method'><a href="homePage.html#.adminInfo">adminInfo</a></li><li data-type='method'><a href="homePage.html#.diagnoseInfo">diagnoseInfo</a></li><li data-type='method'><a href="homePage.html#.getSpecialLike">getSpecialLike</a></li><li data-type='method'><a href="homePage.html#.getUseEatInfo">getUseEatInfo</a></li><li data-type='method'><a href="homePage.html#.visitCountInfo">visitCountInfo</a></li><li data-type='method'><a href="homePage.html#.visitOrderInfo">visitOrderInfo</a></li></ul></li><li><a href="patientList.html">patientList</a><ul class='methods'><li data-type='method'><a href="patientList.html#.getRecordByDate">getRecordByDate</a></li><li data-type='method'><a href="patientList.html#.getRecordDate">getRecordDate</a></li><li data-type='method'><a href="patientList.html#.getTaskByHzId">getTaskByHzId</a></li><li data-type='method'><a href="patientList.html#.list">list</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-ActInfo.html">ActInfo</a><ul class='methods'><li data-type='method'><a href="module-ActInfo.html#~getData">getData</a></li><li data-type='method'><a href="module-ActInfo.html#~scollRefresh">scollRefresh</a></li></ul></li><li><a href="module-Activity.html">Activity</a><ul class='methods'><li data-type='method'><a href="module-Activity.html#~enterInfo">enterInfo</a></li><li data-type='method'><a href="module-Activity.html#~getList">getList</a></li><li data-type='method'><a href="module-Activity.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Activity.html#~scollRefresh">scollRefresh</a></li></ul></li><li><a href="module-Change.html">Change</a><ul class='methods'><li data-type='method'><a href="module-Change.html#~nextStep">nextStep</a></li></ul></li><li><a href="module-ChooseAi.html">ChooseAi</a><ul class='methods'><li data-type='method'><a href="module-ChooseAi.html#~chooseAi">chooseAi</a></li><li data-type='method'><a href="module-ChooseAi.html#~getAiList">getAiList</a></li><li data-type='method'><a href="module-ChooseAi.html#~submitAi">submitAi</a></li></ul></li><li><a href="module-Follow.html">Follow</a><ul class='methods'><li data-type='method'><a href="module-Follow.html#~getList">getList</a></li><li data-type='method'><a href="module-Follow.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Follow.html#~scollRefresh">scollRefresh</a></li></ul></li><li><a href="module-Forget.html">Forget</a><ul class='methods'><li data-type='method'><a href="module-Forget.html#~getcode">getcode</a></li><li data-type='method'><a href="module-Forget.html#~nextStep">nextStep</a></li></ul></li><li><a href="module-Header.html">Header</a><ul class='methods'><li data-type='method'><a href="module-Header.html#~goBack">goBack</a></li><li data-type='method'><a href="module-Header.html#~goHome">goHome</a></li></ul></li><li><a href="module-Home.html">Home</a></li><li><a href="module-Index.html">Index</a><ul class='methods'><li data-type='method'><a href="module-Index.html#~getBaseData">getBaseData</a></li><li data-type='method'><a href="module-Index.html#~getData">getData</a></li><li data-type='method'><a href="module-Index.html#~getDisease">getDisease</a></li><li data-type='method'><a href="module-Index.html#~getDrugs">getDrugs</a></li><li data-type='method'><a href="module-Index.html#~getFollowData">getFollowData</a></li><li data-type='method'><a href="module-Index.html#~getList">getList</a></li><li data-type='method'><a href="module-Index.html#~goMypatient">goMypatient</a></li><li data-type='method'><a href="module-Index.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Index.html#~scollRefresh">scollRefresh</a></li></ul></li><li><a href="module-line.html">line</a></li><li><a href="module-List.html">List</a><ul class='methods'><li data-type='method'><a href="module-List.html#~addLike">addLike</a></li><li data-type='method'><a href="module-List.html#~inputChange">inputChange</a></li><li data-type='method'><a href="module-List.html#~maxHeight">maxHeight</a></li></ul></li><li><a href="module-Login.html">Login</a><ul class='methods'><li data-type='method'><a href="module-Login.html#~login">login</a></li></ul></li><li><a href="module-Mine.html">Mine</a></li><li><a href="module-Opinion.html">Opinion</a><ul class='methods'><li data-type='method'><a href="module-Opinion.html#~sendOption">sendOption</a></li></ul></li><li><a href="module-Pat_index.html">Pat_index</a><ul class='methods'><li data-type='method'><a href="module-Pat_index.html#~addLike">addLike</a></li><li data-type='method'><a href="module-Pat_index.html#~adopt">adopt</a></li><li data-type='method'><a href="module-Pat_index.html#~creatAction">creatAction</a></li><li data-type='method'><a href="module-Pat_index.html#~getBaseData">getBaseData</a></li><li data-type='method'><a href="module-Pat_index.html#~getHistory">getHistory</a></li><li data-type='method'><a href="module-Pat_index.html#~getHistoryData">getHistoryData</a></li><li data-type='method'><a href="module-Pat_index.html#~getList">getList</a></li><li data-type='method'><a href="module-Pat_index.html#~getMore">getMore</a></li><li data-type='method'><a href="module-Pat_index.html#~getPlanList">getPlanList</a></li><li data-type='method'><a href="module-Pat_index.html#~getPlanResult">getPlanResult</a></li><li data-type='method'><a href="module-Pat_index.html#~getTaskByHzId">getTaskByHzId</a></li><li data-type='method'><a href="module-Pat_index.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Pat_index.html#~passSelect">passSelect</a></li><li data-type='method'><a href="module-Pat_index.html#~scollRefresh">scollRefresh</a></li><li data-type='method'><a href="module-Pat_index.html#~tableSwitch">tableSwitch</a></li></ul></li><li><a href="module-Pat_result.html">Pat_result</a><ul class='methods'><li data-type='method'><a href="module-Pat_result.html#~getChart">getChart</a></li><li data-type='method'><a href="module-Pat_result.html#~getPlanResult">getPlanResult</a></li><li data-type='method'><a href="module-Pat_result.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Pat_result.html#~scollRefresh">scollRefresh</a></li></ul></li><li><a href="module-Patient.html">Patient</a><ul class='methods'><li data-type='method'><a href="module-Patient.html#~checkShow">checkShow</a></li><li data-type='method'><a href="module-Patient.html#~chooseSex">chooseSex</a></li><li data-type='method'><a href="module-Patient.html#~chooseSort">chooseSort</a></li><li data-type='method'><a href="module-Patient.html#~chooseTime">chooseTime</a></li><li data-type='method'><a href="module-Patient.html#~getList">getList</a></li><li data-type='method'><a href="module-Patient.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Patient.html#~reset">reset</a></li><li data-type='method'><a href="module-Patient.html#~scollRefresh">scollRefresh</a></li><li data-type='method'><a href="module-Patient.html#~searchData">searchData</a></li></ul></li><li><a href="module-pie.html">pie</a></li><li><a href="module-Plan.html">Plan</a><ul class='methods'><li data-type='method'><a href="module-Plan.html#~adopt">adopt</a></li><li data-type='method'><a href="module-Plan.html#~allCheck">allCheck</a></li><li data-type='method'><a href="module-Plan.html#~getList">getList</a></li><li data-type='method'><a href="module-Plan.html#~itemChange">itemChange</a></li><li data-type='method'><a href="module-Plan.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Plan.html#~scollRefresh">scollRefresh</a></li><li data-type='method'><a href="module-Plan.html#~searchData">searchData</a></li><li data-type='method'><a href="module-Plan.html#~tableSwitch">tableSwitch</a></li></ul></li><li><a href="module-Register.html">Register</a><ul class='methods'><li data-type='method'><a href="module-Register.html#~getcode">getcode</a></li><li data-type='method'><a href="module-Register.html#~register">register</a></li></ul></li><li><a href="module-Result.html">Result</a><ul class='methods'><li data-type='method'><a href="module-Result.html#~getList">getList</a></li><li data-type='method'><a href="module-Result.html#~goToInfo">goToInfo</a></li><li data-type='method'><a href="module-Result.html#~listRefresh">listRefresh</a></li><li data-type='method'><a href="module-Result.html#~scollRefresh">scollRefresh</a></li><li data-type='method'><a href="module-Result.html#~searchData">searchData</a></li><li data-type='method'><a href="module-Result.html#~tableSwitch">tableSwitch</a></li></ul></li><li><a href="module-ScrollView.html">ScrollView</a><ul class='methods'><li data-type='method'><a href="module-ScrollView.html#~_initScroll">_initScroll</a></li><li data-type='method'><a href="module-ScrollView.html#~disable">disable</a></li><li data-type='method'><a href="module-ScrollView.html#~enable">enable</a></li><li data-type='method'><a href="module-ScrollView.html#~refresh">refresh</a></li><li data-type='method'><a href="module-ScrollView.html#~scrollTo">scrollTo</a></li><li data-type='method'><a href="module-ScrollView.html#~scrollToElement">scrollToElement</a></li></ul></li><li><a href="module-Search.html">Search</a><ul class='methods'><li data-type='method'><a href="module-Search.html#~cleanHistory">cleanHistory</a></li><li data-type='method'><a href="module-Search.html#~historyrsSearch">historyrsSearch</a></li><li data-type='method'><a href="module-Search.html#~submit">submit</a></li></ul></li><li><a href="module-Setting.html">Setting</a><ul class='methods'><li data-type='method'><a href="module-Setting.html#~signOut">signOut</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">components/Main/Index.vue</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
&lt;style lang="scss" >
.rsIndex {
	&amp;_follow_title {
		span {
			font-size: 13px;
		}
	}
	&amp;_header {
		box-sizing: border-box;
		padding: 15px;
		display: flex;
		justify-content: space-between;
		padding-bottom: 0;
		&amp;_avatar {
			height: 90px;
			width: 80px;
			overflow: hidden;
			position: relative;
			box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.09);
			border-radius: 4px;
			border: solid 1px rgba(255, 255, 255, 0.51);
			>img {
				display: block;
				width: 100%;
			}
			>span {
				height: 17.5px;
				line-height: 17.5px;
				text-align: center;
				background-color: rgba(0, 0, 0, 0.3);
				color: #fff;
				font-size: 12px;
				position: absolute;
				bottom: 0;
				left: 0;
				display: block;
				width: 100%;
			}
		}
		&amp;_text {
			line-height: 23.5px;
			width: calc(100% - 120px);
			font-size: 13px;
			color: #666;
		}
		>i{
			width: 20px;
			height: 20px;
			margin-top: 5px;
			color: #666;
			font-size: 20px;
		}
	}

	&amp;_middle {
		padding: 15px;
		box-sizing: border-box;
		&amp;_content {
			box-sizing: border-box;
			padding: 15px 0;
			display: flex;
			box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.08);
			border-radius: 4px;
			border: solid 1px rgba(0, 0, 0, 0.09);
			background-color: #fff;
		}
		&amp;_single {
			box-sizing: border-box;
			padding: 0 10px;
			flex: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			position: relative;
			&amp;:nth-of-type(2) {
				&amp;:after {
					content: "";
					display: block;
					width: 1px;
					height: 100%;
					background-color: #e5e5e5;
					position: absolute;
					left: 0;
					top: 0;
				}
				&amp;:before {
					content: "";
					display: block;
					width: 1px;
					height: 100%;
					background-color: #e5e5e5;
					position: absolute;
					right: 0;
					top: 0;
				}
			}
			>p {
				font-size: 12px;
				line-height: 24px;
				text-align: center;
				color: #666666;
			}
			>h4 {
				text-align: center;
				font-weight: 700;
				font-size: 24px;
				color: #555;
			}
			>span {
				display: block;
				text-align: center;
				font-size: 12px;
				color: #666;
				>a {
					color: #f36837;
					cursor: pointer;
				}
			}
		}
		&amp;_number {}
	}
	&amp;_chart {
		&amp;_disease {
			background-color: #fff;
			margin-bottom: 10px;
		}
		&amp;_drugs {
			background-color: #fff;
			margin-bottom: 10px;
		}
		&amp;_disContent {
			display: flex;
			justify-content: space-between;
		}
		&amp;_disChart {
			width: 200px;
			height: 200px;
			flex-grow: 0;
			flex-shrink: 0;
			position: relative;
			>h3 {
				font-size: 18px;
				color: #666;
				top: 50%;
				position: absolute;
				transform: translateY(-50%);
				text-align: center;
				width: 100%;
			}
		}
		&amp;_indexList {
			flex: 1;
			display: flex;
			flex-direction: column;
			justify-content: center;
			box-sizing: border-box;
			padding-right: 15px;
		}
		&amp;_disChartLine {
			width: 100%;
		}
		&amp;_commonTitle {
			.weui-cell__ft {
				font-size: 13px;
			}
		}
		&amp;_indexPer {
			display: flex;
			justify-content: space-between;
			margin-bottom: 10px;
			>div {
				width: 30%;
				position: relative;
				height: 53px;
				border-radius: 2px;
				border: solid 1px #e9e9e9;
				>h3 {
					font-size: 15px;
					color: #484848;
					height: 33px;
					line-height: 33px;
					text-align: center;
				}
				>span {
					display: block;
					height: 20px;
					background-color: #f8f8f8;
					border: solid 1px #e9e9e9;
					color: #484848;
					font-size: 10px;
					text-align: center;
					line-height: 20px;
				}
			}
		}
		&amp;_indexSingle {
			display: flex;
			height: 20px;
			align-items: center;
			margin-bottom: 5px;
			>span {
				height: 10px;
				width: 10px;
				border-radius: 50%;
				display: block;
				flex-shrink: 0;
				flex-grow: 0;
				margin-right: 5px;
			}
			>h4 {
				font-size: 12px;
				color: #666;
				flex: 1;
				font-weight: 400;
			}
			>h5 {
				margin-left: 5px;
				font-size: 12px;
				color: #333;
				font-weight: 400;
				width: 40px;
				flex-shrink: 0;
				flex-grow: 0;
			}
		}
	}

	&amp;_ {}
}
&lt;/style>


&lt;template lang="pug">
//- 首页主体
.rsIndex
	b-scroll(
		:data="dataList",
		pulldown=true,
		@pulldown="listRefresh",
		@scrollToEnd="getData",
		ref="scollView",
		)
		//- 头部
		.rsIndex_header
			.rsIndex_header_avatar
				img(:src="'http://61.164.223.42:6080/'+baseData.aipicTureUrl")
				span {{baseData.AiName}}
			p.rsIndex_header_text 早上好，{{baseData.realname}}医生，{{baseData.AiName}}已等候您{{getLastHours}}小时了。以下是您需要处理的内容。
			//- 中间部分
			i(@click="goMypatient").iconfont &amp;#xe639;
		.rsIndex_middle
			.rsIndex_middle_content
				.rsIndex_middle_single
					p 已随访{{baseData.hadVisitCount}}次共{{baseData.hadVisitPeopleCount}}位患者
				.rsIndex_middle_single(@click="$router.push('/main/main/plan')")
					h4.rsIndex_middle_number {{baseData.needShCount}}
					span 随访计划
						router-link(to="/main/main/plan") 待审核
				.rsIndex_middle_single(@click="$router.push('/main/main/result')")
					h4.rsIndex_middle_number {{baseData.needClCount}}
					span 随访记录
						router-link(to="/main/main/result") 待处理
		//- 图表插件 两个图表 ，折线图和环状图
		.rsIndex_chart
			//- 疾病分类情况
			.rsIndex_chart_disease(v-if="dataList[0].pieData.data.rows.length>0")
				group.rsIndex_chart_commonTitle
					popup-radio(title="疾病分布情况", :options="timeOptions",@on-change="getDisease", v-model="dataList[0].timeSelect")
				.rsIndex_chart_disContent
					.rsIndex_chart_disChart
						pie-example(:pieData="dataList[0].pieData")
						h3 {{dataList[0].pieData.data.rows[0].Count}}人
					.rsIndex_chart_indexList
						li(v-for="item,index in dataList[0].pieData.data.rows",:key="item.index").rsIndex_chart_indexSingle
							span(:style="{'backgroundColor':dataList[0].pieData.color[index]}")
							h4.nowarp {{item.diagnoseName}}
							h5 {{item.percent}}%

			//- 用药依从性
			.rsIndex_chart_drugs(v-if="dataList[1].pieData.data.rows.length>0")
				group.rsIndex_chart_commonTitle
					popup-radio(title="用药依从性", :options="timeOptions",@on-change="getDrugs", v-model="dataList[1].timeSelect")
				.rsIndex_chart_disContent
					.rsIndex_chart_disChart
						pie-example(:pieData="dataList[1].pieData")
						h3 {{dataList[1].pieData.data.rows[0].Count}}人次
					.rsIndex_chart_indexList
						.rsIndex_chart_indexPer
							div(v-for="item,index in dataList[1].pieData.data.rows",:key="item.index")
								h3 {{item.percent}}%
								span {{item.diagnoseName}}
						li(v-for="item,index in dataList[1].pieData.data.rows",:key="item.index").rsIndex_chart_indexSingle
							span(:style="{'backgroundColor':dataList[1].pieData.color[index]}")
							h4.nowarp {{item.diagnoseName}}
							h5 {{item.itemCount}}
			//- 随访数量统计
			.rsIndex_chart_drugs(v-if="dataList[2].lineData.data.rows.length>0")
				group.rsIndex_chart_commonTitle
					popup-radio(title="随访数量统计" ,:options="timeOptions_simple",@on-change="getFollowData", v-model="dataList[2].timeSelect")
				.rsIndex_chart_disContent
					.rsIndex_chart_disChartLine
						line-example(:lineData="dataList[2].lineData")

		group.rsIndex_follow_title
			cell( title="特别关注" ,link="/main/main/mine/follow")
				span(slots="default") 更多
		list-compent(:list="list")
&lt;/template>

&lt;script>
/**
 * 首页组件
 * @module Index
 */
import { API } from '@/services';
import { ButtonTab, ButtonTabItem, Group, PopupRadio, Cell } from 'vux';
import ListCompent from '../Common/Result.vue';
import BScroll from '../Common/scrollView.vue';
import LineExample from './chart/line.vue';
import PieExample from './chart/pie.vue';
import { mapGetters } from 'vuex';
export default {
	components: {
		ButtonTab,
		ButtonTabItem,
		Group,
		PopupRadio,
		BScroll,
		LineExample,
		PieExample,
		ListCompent,
		Cell
	},
	computed: {
		...mapGetters(
			[
				'getLastHours'
			]
		)
	},
	data() {
		return {
			/* 上拉加载更多 */
			swiper_pullUp: false,//显示加载
			swiper_nodata: false,//没有更多数据
			page: 1,
			list: [],//我的特别关注
			loading: false,
			timeOptions: [
				{
					value: "全部",
					key: 0,
				}, {
					value: "7天",
					key: 1,
				}, {
					value: "30天",
					key: 2,
				}, {
					value: "3个月",
					key: 3,
				}, {
					value: "6个月",
					key: 4,
				}, {
					value: "1年",
					key: 5,
				}],
			timeOptions_simple: [
				{
					value: "7天",
					key: 1,
				}, {
					value: "30天",
					key: 2,
				},
			],
			baseData: {},//基础数据
			dataList: [
				//疾病分布情况
				{
					timeSelect: 0,
					pieData: {
						data: {
							columns: ['diagnoseName', 'itemCount'],
							rows: [
								{
									Count: 0,
								}
							]
						},
						setting: {
							offsetY: 100,
							radius: ['55', '70'],
							label: {
								normal: {
									show: false
								},
								emphasis: {
									show: false
								}
							}
						},
						color: ['#f36837', '#59d0bd', '#f8df94', '#5d98e3', '#5d64e3']
					}
				},
				//用药依从性
				{
					timeSelect: 0,
					pieData: {
						data: {
							columns: ['diagnoseName', 'itemCount'],
							rows: [
								{
									Count: 0,
								}
							]
						},
						setting: {
							/* roseType: 'radius', */
							offsetY: 100,
							radius: ['45', '70'],
							label: {
								normal: {
									show: false
								},
								emphasis: {
									show: false
								}
							}
						},
						color: ['#fe6262', '#74d477', '#f2b52e', '#5d98e3', '#5d64e3']
					}
				},
				//随访数量统计
				{
					timeSelect: 1,
					lineData: {
						data: {
							columns: ['diagnoseName', 'itemCount'],
							rows: [

							]
						},
						setting: {
							labelMap: {
								itemCount: '随访数量',
								diagnoseName:'日期'
							},
							itemStyle: {
								normal: {
									color: '#f36837'
								}
							},
							/* xAxisType:'time', */
							lineStyle:{
								normal:{
									color:"#dedede"
								}
							},
							areaStyle: {
								normal: {
									/* color:'rgba(243,104,55,0.5)'  */
									color:
									{
										type: 'linear',
										x: 0,
										y: 0,
										x2: 0,
										y2: 1,
										colorStops: [{
											offset: 0, color: '#f36837' // 0% 处的颜色
										}, {
											offset: 1, color: '#fff' // 100% 处的颜色
										}],
										globalCoord: false // 缺省为 false
									}
								}
							},
							area: true
						}
					}
				},
			],//数据列表
		}
	},
	methods: {
		/**
		 * 页面刷新，获取所有数据
		 * @function listRefresh
		 */
		listRefresh() {
			/** 获取基础数据 */
			this.getBaseData();
			this.getDrugs();
			this.getDisease();
			this.getFollowData();
			this.getList();
		},
		/**
		 * 跳转到我的患者页面（搜索按钮点击直接跳转到我的患者）
		 * @function goMypatient
		 */
		goMypatient(){
			this.$router.push('/main/main/mine/patient')
		},
		/**
		 * 获取基础数据
		 * @function getBaseData
		 */
		getBaseData() {
			API.homePage.adminInfo().then((res) => {
				this.baseData = res.data;
				this.$nextTick(() => {
                        this.scollRefresh();
                        this.$store.commit('updateLoadingStatus', {isLoading: false});
                    });
			}).catch((err) => {

			});
		},
		/**
		 * 获取用药依从性接口
		 * @function getDrugs
		 */
		getDrugs() {
			API.homePage.getUseEatInfo({
				dateType: this.dataList[1].timeSelect
			}).then((res) => {
				this.dataList[1].pieData.data.rows = res.data;
				/* this.$nextTick(() => {
                        this.scollRefresh();
                        this.$store.commit('updateLoadingStatus', {isLoading: false});
                    }); */
			}).catch((err) => {

			});
		},
		/**
		 * 获取疾病信息
		 * @function getDisease 
		 */
		getDisease() {
			API.homePage.diagnoseInfo({
				dateType: this.dataList[0].timeSelect
			}).then((res) => {
				this.dataList[0].pieData.data.rows = res.data;
				/* this.$nextTick(() => {
                        this.scollRefresh();
                        this.$store.commit('updateLoadingStatus', {isLoading: false});
                    }); */
			}).catch((err) => {

			});
		},
		/**
		 * 获取随访数量统计
		 * @function getFollowData
		 */
		getFollowData() {
			API.homePage.visitCountInfo({
				dateType: this.dataList[2].timeSelect
			}).then((res) => {
				this.dataList[2].lineData.data.rows = res.data;
				/* this.$nextTick(() => {
                        this.scollRefresh();
                        this.$store.commit('updateLoadingStatus', {isLoading: false});
                    }); */
			}).catch((err) => {

			});
		},
        /**
         * 获取特别关注列表数据
		 * @function getList
         */
		getList() {
			API.patientList.list(
				{
					pager: 1,
					limit: 5,
					gz:1,
				}
			).then((res) => {
				this.list = res.data;
				this.$nextTick(() => {
                        this.scollRefresh();
                        this.$store.commit('updateLoadingStatus', {isLoading: false});
                    });
			}).catch((err) => {

			});
		},
		/**
		 * 获取首页推荐列表（冻结使用）
		 * @function getData
		 */
		getData() {
			if (this.loading) {
				return false;
			}
			this.loading = true;
			if (this.dataList.length >= 10) {
				this.swiper_pullUp = true;
				this.swiper_nodata = false;
			}
		},
		/**
         * 滚动实例重置（当前页面总高度发生变化是需要调用此函数）
         * @function scollRefresh
         */
		scollRefresh() {
			this.$refs.scollView.scroll.refresh();
		},
	},
	mounted() {
		this.listRefresh();
	},
	activated() {

	}
}
&lt;/script>
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Feb 28 2018 18:06:26 GMT+0800 (CST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
